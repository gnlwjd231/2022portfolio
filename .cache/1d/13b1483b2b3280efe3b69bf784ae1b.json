{"id":"m1a4","dependencies":[{"name":"C:\\Users\\dino\\Desktop\\github\\package.json","includedInParent":true,"mtime":1648388130249},{"name":"C:\\Users\\dino\\Desktop\\github\\node_modules\\mux.js\\package.json","includedInParent":true,"mtime":1648384046848},{"name":"../utils/numbers.js","loc":{"line":1,"column":24,"index":24},"parent":"C:\\Users\\dino\\Desktop\\github\\node_modules\\mux.js\\lib\\tools\\parse-sidx.js","resolved":"C:\\Users\\dino\\Desktop\\github\\node_modules\\mux.js\\lib\\utils\\numbers.js"}],"generated":{"js":"var e=require(\"../utils/numbers.js\").getUint64,t=function(t){var r=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:r.getUint32(4),timescale:r.getUint32(8)},i=12;0===n.version?(n.earliestPresentationTime=r.getUint32(i),n.firstOffset=r.getUint32(i+4),i+=8):(n.earliestPresentationTime=e(t.subarray(i)),n.firstOffset=e(t.subarray(i+8)),i+=16),i+=2;var s=r.getUint16(i);for(i+=2;s>0;i+=12,s--)n.references.push({referenceType:(128&t[i])>>>7,referencedSize:2147483647&r.getUint32(i),subsegmentDuration:r.getUint32(i+4),startsWithSap:!!(128&t[i+8]),sapType:(112&t[i+8])>>>4,sapDeltaTime:268435455&r.getUint32(i+8)});return n};module.exports=t;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint64","original":{"line":1,"column":4},"generated":{"line":1,"column":4}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":6}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":1,"column":24},"generated":{"line":1,"column":14}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint64","original":{"line":1,"column":47},"generated":{"line":1,"column":37}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"parseSidx","original":{"line":3,"column":4},"generated":{"line":1,"column":47}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":3,"column":16},"generated":{"line":1,"column":49}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":3,"column":25},"generated":{"line":1,"column":58}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":4,"column":6},"generated":{"line":1,"column":61}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":4,"column":6},"generated":{"line":1,"column":65}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":4,"column":13},"generated":{"line":1,"column":67}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"DataView","original":{"line":4,"column":17},"generated":{"line":1,"column":71}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":4,"column":26},"generated":{"line":1,"column":80}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"buffer","original":{"line":4,"column":31},"generated":{"line":1,"column":82}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":4,"column":39},"generated":{"line":1,"column":89}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"byteOffset","original":{"line":4,"column":44},"generated":{"line":1,"column":91}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":4,"column":56},"generated":{"line":1,"column":102}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"byteLength","original":{"line":4,"column":61},"generated":{"line":1,"column":104}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":5,"column":6},"generated":{"line":1,"column":116}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":5,"column":15},"generated":{"line":1,"column":118}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"version","original":{"line":6,"column":8},"generated":{"line":1,"column":119}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":6,"column":17},"generated":{"line":1,"column":127}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":6,"column":22},"generated":{"line":1,"column":129}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"flags","original":{"line":7,"column":8},"generated":{"line":1,"column":132}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":7,"column":15},"generated":{"line":1,"column":138}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"Uint8Array","original":{"line":7,"column":19},"generated":{"line":1,"column":142}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":7,"column":30},"generated":{"line":1,"column":153}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"subarray","original":{"line":7,"column":35},"generated":{"line":1,"column":155}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":7,"column":44},"generated":{"line":1,"column":164}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":7,"column":47},"generated":{"line":1,"column":166}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"references","original":{"line":8,"column":8},"generated":{"line":1,"column":170}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":8,"column":20},"generated":{"line":1,"column":181}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceId","original":{"line":9,"column":8},"generated":{"line":1,"column":184}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":9,"column":21},"generated":{"line":1,"column":196}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":9,"column":26},"generated":{"line":1,"column":198}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":9,"column":36},"generated":{"line":1,"column":208}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"timescale","original":{"line":10,"column":8},"generated":{"line":1,"column":211}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":10,"column":19},"generated":{"line":1,"column":221}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":10,"column":24},"generated":{"line":1,"column":223}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":10,"column":34},"generated":{"line":1,"column":233}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":12,"column":4},"generated":{"line":1,"column":237}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":12,"column":8},"generated":{"line":1,"column":239}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":14,"column":25},"generated":{"line":1,"column":242}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":14,"column":6},"generated":{"line":1,"column":246}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"version","original":{"line":14,"column":13},"generated":{"line":1,"column":248}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":15,"column":4},"generated":{"line":1,"column":257}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"earliestPresentationTime","original":{"line":15,"column":11},"generated":{"line":1,"column":259}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":15,"column":38},"generated":{"line":1,"column":284}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":15,"column":43},"generated":{"line":1,"column":286}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":15,"column":53},"generated":{"line":1,"column":296}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":16,"column":4},"generated":{"line":1,"column":299}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"firstOffset","original":{"line":16,"column":11},"generated":{"line":1,"column":301}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":16,"column":25},"generated":{"line":1,"column":313}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":16,"column":30},"generated":{"line":1,"column":315}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":16,"column":40},"generated":{"line":1,"column":325}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":16,"column":44},"generated":{"line":1,"column":327}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":17,"column":4},"generated":{"line":1,"column":330}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":17,"column":9},"generated":{"line":1,"column":333}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":20,"column":4},"generated":{"line":1,"column":337}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"earliestPresentationTime","original":{"line":20,"column":11},"generated":{"line":1,"column":339}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint64","original":{"line":20,"column":38},"generated":{"line":1,"column":364}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":20,"column":48},"generated":{"line":1,"column":366}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"subarray","original":{"line":20,"column":53},"generated":{"line":1,"column":368}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":20,"column":62},"generated":{"line":1,"column":377}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":21,"column":4},"generated":{"line":1,"column":381}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"firstOffset","original":{"line":21,"column":11},"generated":{"line":1,"column":383}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint64","original":{"line":21,"column":25},"generated":{"line":1,"column":395}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":21,"column":35},"generated":{"line":1,"column":397}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"subarray","original":{"line":21,"column":40},"generated":{"line":1,"column":399}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":21,"column":49},"generated":{"line":1,"column":408}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":21,"column":53},"generated":{"line":1,"column":410}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":22,"column":4},"generated":{"line":1,"column":414}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":22,"column":9},"generated":{"line":1,"column":417}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":25,"column":2},"generated":{"line":1,"column":421}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":25,"column":7},"generated":{"line":1,"column":424}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceCount","original":{"line":27,"column":6},"generated":{"line":1,"column":426}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceCount","original":{"line":27,"column":6},"generated":{"line":1,"column":430}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":27,"column":23},"generated":{"line":1,"column":432}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint16","original":{"line":27,"column":28},"generated":{"line":1,"column":434}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":27,"column":38},"generated":{"line":1,"column":444}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceCount","original":{"line":31,"column":9},"generated":{"line":1,"column":447}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":29,"column":2},"generated":{"line":1,"column":451}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":29,"column":7},"generated":{"line":1,"column":454}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceCount","original":{"line":31,"column":9},"generated":{"line":1,"column":456}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":31,"column":26},"generated":{"line":1,"column":458}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":31,"column":29},"generated":{"line":1,"column":460}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":31,"column":34},"generated":{"line":1,"column":463}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceCount","original":{"line":31,"column":38},"generated":{"line":1,"column":466}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":32,"column":4},"generated":{"line":1,"column":470}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"references","original":{"line":32,"column":11},"generated":{"line":1,"column":472}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"push","original":{"line":32,"column":22},"generated":{"line":1,"column":483}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":32,"column":27},"generated":{"line":1,"column":488}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referenceType","original":{"line":33,"column":6},"generated":{"line":1,"column":489}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":33,"column":32},"generated":{"line":1,"column":504}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":33,"column":22},"generated":{"line":1,"column":508}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":33,"column":27},"generated":{"line":1,"column":510}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":33,"column":42},"generated":{"line":1,"column":516}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"referencedSize","original":{"line":34,"column":6},"generated":{"line":1,"column":518}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":34,"column":42},"generated":{"line":1,"column":533}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":34,"column":22},"generated":{"line":1,"column":544}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":34,"column":27},"generated":{"line":1,"column":546}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":34,"column":37},"generated":{"line":1,"column":556}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"subsegmentDuration","original":{"line":35,"column":6},"generated":{"line":1,"column":559}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":35,"column":26},"generated":{"line":1,"column":578}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":35,"column":31},"generated":{"line":1,"column":580}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":35,"column":41},"generated":{"line":1,"column":590}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":35,"column":45},"generated":{"line":1,"column":592}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"startsWithSap","original":{"line":36,"column":6},"generated":{"line":1,"column":595}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":36,"column":38},"generated":{"line":1,"column":612}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":36,"column":24},"generated":{"line":1,"column":616}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":36,"column":29},"generated":{"line":1,"column":618}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":36,"column":33},"generated":{"line":1,"column":620}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"sapType","original":{"line":37,"column":6},"generated":{"line":1,"column":624}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":37,"column":30},"generated":{"line":1,"column":633}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"data","original":{"line":37,"column":16},"generated":{"line":1,"column":637}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":37,"column":21},"generated":{"line":1,"column":639}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":37,"column":25},"generated":{"line":1,"column":641}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":37,"column":40},"generated":{"line":1,"column":647}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"sapDeltaTime","original":{"line":38,"column":6},"generated":{"line":1,"column":649}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":38,"column":44},"generated":{"line":1,"column":662}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"view","original":{"line":38,"column":20},"generated":{"line":1,"column":672}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"getUint32","original":{"line":38,"column":25},"generated":{"line":1,"column":674}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"i","original":{"line":38,"column":35},"generated":{"line":1,"column":684}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","original":{"line":38,"column":39},"generated":{"line":1,"column":686}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":42,"column":9},"generated":{"line":1,"column":691}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"result","original":{"line":42,"column":9},"generated":{"line":1,"column":698}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"module","original":{"line":46,"column":0},"generated":{"line":1,"column":701}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"exports","original":{"line":46,"column":7},"generated":{"line":1,"column":708}},{"source":"node_modules/mux.js/lib/tools/parse-sidx.js","name":"parseSidx","original":{"line":46,"column":17},"generated":{"line":1,"column":716}}],"sources":{"node_modules/mux.js/lib/tools/parse-sidx.js":"var getUint64 = require('../utils/numbers.js').getUint64;\n\nvar parseSidx = function(data) {\n  var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n      result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        references: [],\n        referenceId: view.getUint32(4),\n        timescale: view.getUint32(8)\n      },\n    i = 12;\n\n  if (result.version === 0) {\n    result.earliestPresentationTime = view.getUint32(i);\n    result.firstOffset = view.getUint32(i + 4);\n    i += 8;\n  } else {\n    // read 64 bits\n    result.earliestPresentationTime = getUint64(data.subarray(i));\n    result.firstOffset = getUint64(data.subarray(i + 8));\n    i += 16;\n  }\n\n  i += 2; // reserved\n\n  var referenceCount = view.getUint16(i);\n\n  i += 2; // start of references\n\n  for (; referenceCount > 0; i += 12, referenceCount--) {\n    result.references.push({\n      referenceType: (data[i] & 0x80) >>> 7,\n      referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n      subsegmentDuration: view.getUint32(i + 4),\n      startsWithSap: !!(data[i + 8] & 0x80),\n      sapType: (data[i + 8] & 0x70) >>> 4,\n      sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n    });\n  }\n\n  return result;\n};\n\n\nmodule.exports = parseSidx;\n"},"lineCount":null}},"error":null,"hash":"bf0955cea5a6f21cec33cb6b3d699f0b","cacheData":{"env":{}}}